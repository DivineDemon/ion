# Experiment status vs plan (Part A)

**Date:** Generated when checking readiness for paper writing.

**Plan requirement:** Part A must be completed and all data/figures collected before Part B (writing) begins. Minimum 5 runs (seeds) per (model, task, config); report mean ± std.

**Status:** Full suite has been **launched**: length_gen (--all), depth, MNIST, and ablations (lambda + p_dim) are running with seeds `42,123,456,789,1024`. Monitor logs in `results/*_run.log`. When all finish, run:
`python -m src.run_drift && python -m src.run_length_gen --aggregate-only && python -m src.run_figures_tables`
to compute drift, aggregate length-gen tables, and regenerate all figures and tables.

---

## Summary (pre–full run)

You have **partial** results. The paper can be started with what exists, but several experiments are missing or under-sampled (1–3 seeds instead of 5). See below for what exists vs what the plan expects.

---

## 1. Length generalization

**Plan:** Train lengths 10–20, test 50/100/200; tasks: cumsum, parity, and at least one Dyck; models: ION, GRU, LSTM; **5 seeds** per (model, task).

| Task   | ION | GRU | LSTM | Seeds used | Status        |
|--------|-----|-----|------|------------|---------------|
| cumsum | ❌  | ❌  | ✅   | 1 (42)     | **Missing ION, GRU; only 1 seed** |
| parity | ✅  | ✅  | ❌  | 1 (42)     | **Missing LSTM; only 1 seed**     |
| Dyck-1/2 | — | —   | —   | —          | **Not run** (optional if you have cumsum + parity) |

**Artifacts present:** `results/length_gen/{cumsum,parity}/accuracy_vs_length_table.csv`, per-model `summary.json` and `accuracy_vs_length.csv` for the combinations above.

---

## 2. Depth stability

**Plan:** Depths 4, 8, 16, 32; models MLP and ION; **5 seeds** per (depth, model).

| Depth | MLP | ION | Seeds | Status        |
|-------|-----|-----|-------|---------------|
| 4     | ✅ (raw) | ✅ | 1 (42) | **Only depth 4 run; 1 seed** |
| 8     | ❌  | ❌  | —     | **Not run**   |
| 16    | ❌  | ❌  | —     | **Not run**   |
| 32    | ❌  | ❌  | —     | **Not run**   |

**Note:** `depth/summary.json` and `accuracy_vs_depth.csv` only list ION; MLP has `depth_4/run_42.json` on disk but is not in the aggregated summary.

**Artifacts present:** `results/depth/accuracy_vs_depth.csv`, `summary.json`, `convergence_vs_depth.csv`; per-run under `depth/{mlp,ion}/depth_4/`.

---

## 3. MNIST

**Plan:** MLP baseline vs MLP+ION; **5 seeds**; optional robustness.

| Item | Status |
|------|--------|
| results/mnist/ | **Missing** – no MNIST experiment outputs |

**Artifacts present:** None.

---

## 4. Ablations (λ and p_dim)

**Plan:** λ and p_dim on one length-gen task (e.g. cumsum) and on MNIST; 3–5 seeds each.

| Sweep | Task   | Values covered      | Seeds      | Status |
|-------|--------|----------------------|------------|--------|
| λ     | cumsum | 0.1, 0.3, 0.5, 0.7, 1.0 | 1–3 (1.0 only 1 seed) | **Mostly done; λ=1.0 only 1 seed for cumsum** |
| λ     | mnist  | 0.1, 0.3, 0.5, 0.7    | 3 (42, 1042, 2042) | **λ=1.0 for MNIST missing** |
| p_dim | cumsum | —                    | —          | **Not run** |
| p_dim | mnist  | —                    | —          | **Not run** |

**Artifacts present:** `results/ablations/lambda_*_{cumsum,mnist}_seed_*.json`, per-sweep `runs.csv`; tables in `results/tables/` and `paper/tables/` for λ (cumsum + mnist).

---

## 5. Figures and tables (Phase A10)

**Plan:** All figures and tables generated from results; figures stored in `paper/figures/` only; tables in `paper/tables/` and `results/tables/` (CSV).

| Item | Status |
|------|--------|
| paper/figures/  | Single directory for all paper figures (generated by run_figures_tables) |
| results/tables/ | CSV tables present |
| paper/tables/   | LaTeX tables present |

**Note:** Regeneration script: `python -m src.run_figures_tables` (or `./scripts/regenerate_figures_tables.sh`). Re-run after any new experiments.

---

## 6. Invariant drift (optional for paper)

**Plan:** Optional figure: drift vs step/layer for ION. Requires trained MNIST ION first.

| Item | Status |
|------|--------|
| results/drift/  | Run `python -m src.run_drift` after MNIST completes |

---

## Recommendation

- **Start writing the paper:** You can begin Part B with the current results if you are okay with:
  - Length-gen: only parity (GRU + ION) and cumsum (LSTM) with **1 seed** each; no Dyck; no ION/GRU for cumsum, no LSTM for parity.
  - Depth: only **depth 4** and effectively **ION** in the aggregate; no depths 8/16/32; 1 seed.
  - MNIST: **no results** (omit or add a “to be run” note).
  - Ablations: **λ** on cumsum and MNIST (λ=1.0 MNIST missing); **p_dim** not run.

- **For a full, plan-compliant Part A:** Run the missing experiments and re-run with 5 seeds where you currently have 1–3, then regenerate figures and tables. See README and `run_*.py` for commands.

---

---

## Running the full suite (maximum completion)

From repo root, with `.venv` activated:

```bash
./scripts/run_all_experiments.sh
```

Or run steps manually (same seeds `42,123,456,789,1024`):

1. `python -m src.run_length_gen --all --seeds 42,123,456,789,1024`
2. `python -m src.run_depth --seeds 42,123,456,789,1024`
3. `python -m src.run_mnist --seeds 42,123,456,789,1024`
4. `python -m src.run_ablations --sweep both --seeds 42,123,456,789,1024`
5. `python -m src.run_drift`
6. `python -m src.run_length_gen --aggregate-only && python -m src.run_figures_tables`

Logs: `results/length_gen_run.log`, `results/depth_run.log`, `results/mnist_run.log`, `results/ablations_run.log`.

---

*This file was generated by an automated check. Re-run the check after completing more experiments.*
